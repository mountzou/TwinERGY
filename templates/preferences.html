{% extends "base-preferences.html" %}

<!-- Add the title for the specific html page -->
{% block title %}Preferences{% endblock title %}

<!-- Import any external .css files for the specific page -->
{% block html_css %}
<link href="{{url_for('static', filename='css/ion-rangeslider.css')}}" rel="stylesheet"
      type="text/css">{% endblock html_css %}

<!-- Set the breadcrumb names for the specific page -->
{% set breadcrumb_level_one = 'Preferences' %}
{% set breadcrumb_level_two = '' %}

{% block content %}

<div class="container page__container d-flex flex-column flex-md-row align-items-center pt-32pt">
    {% include 'breadcrumb.html' %}
</div>
<form action="" method="post">
    <div class="container page-section">
        <div class="row mb-32pt">
            <div class="col-lg-4">
                <div class="page-separator">
                    <div class="page-separator__text">Thermal Comfort</div>
                </div>
                <p class="card-subtitle text-70 mb-16pt mb-lg-0 border-left-3 border-left-primary pl-24pt pl-md-32pt">
                    Insert the range of your desired <code>THERMAL COMFORT</code> tolerance and <code>SET</code>
                    limits.
                </p>
            </div>
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">
                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label" for="preference_thermal_comfort">Thermal
                            Scale</label>
                        <div class="col-sm-9">
                            <input id="preference_thermal_comfort" name="preference_thermal_comfort"
                                   type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group form-group-spacer row">
            <div class="col-lg-12">
                <input id="preference_indoor_temperature" name="preference_indoor_temperature" type="text">
            </div>
        </div>
    </div>

    <div class="mdk-box bg-primary mdk-box--bg-gradient-primary2 js-mdk-box mb-0" data-domfactory-upgraded="mdk-box"
         data-effects="blend-background">
        <div class="mdk-box__bg">
            <div class="mdk-box__bg-front"
                 style="transform: translateZ(0px); will-change: opacity; opacity: 1.19186;"></div>
            <div class="mdk-box__bg-rear"
                 style="transform: translateZ(0px); will-change: opacity; opacity: -0.19186;"></div>
        </div>
        <div class="mdk-box__content">
            <div class="py-32pt text-center text-sm-center">
                <div class="container d-flex flex-column justify-content-center align-items-center">
                    <h1 class="text-white mb-8pt">Flexible Loads</h1>
                    <p class="lead text-white measure-lead-max mb-0" style="font-size: 16px;">Insert the priority
                        and
                        the desired time window for each household appliance.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container page__container page-section">

        <div class="page-separator">
            <div class="page-separator__text">Priority of each Flexible Load</div>
        </div>
        <div class="row">
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">
                    <canvas class="chartjs-render-monitor"
                            data-chart-line-border-color="primary" data-chart-points="true"
                            height="1088"
                            id="importance-flexible-loads" style="display: block; height: 394px; width: 1189px;"
                            width="2378"></canvas>
                </div>
            </div>
            <div class="col-lg-4 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex">
                                    <strong>EV</strong>
                                </div>
                                <div class="text-100">{{ preferences_simos[0] }} %</div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex">
                                    <strong>Washing Machine</strong>
                                </div>
                                <div class="text-100">{{ preferences_simos[2] }} %</div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex">
                                    <strong>Tumble Drier</strong>
                                </div>
                                <div class="text-100">{{ preferences_simos[1] }} %</div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex">
                                    <strong>Dish Washer</strong>
                                </div>
                                <div class="text-100">{{ preferences_simos[3] }} %</div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex">
                                    <strong>Water Heater</strong>
                                </div>
                                <div class="text-100">{{ preferences_simos[4] }} %</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="container page__container page-section">
        <div class="row mb-32pt">
            <div class="col-lg-4">
                <div class="page-separator">
                    <div class="page-separator__text">Electric Vehicle</div>
                </div>
                <p class="card-subtitle text-70 mb-16pt mb-lg-0 border-left-3 border-left-primary pl-24pt pl-md-32pt">
                    Insert the priority of <code>Electric Vehicle's</code> load in your daily
                    routine.</p>
            </div>
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">

                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label" for="preference_electric_vehicle">Importance
                            Scale</label>
                        <div class="col-sm-9">
                            <input id="preference_electric_vehicle" name="preference_electric_vehicle"
                                   type="text">
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="form-group form-group-spacer row">
            <div class="col-sm-12">
                <input id="preference_range_electric_vehicle" name="preference_range_electric_vehicle"
                       type="text">
            </div>
        </div>

        <div class="row mt-32pt mb-32pt">
            <div class="col-lg-4">
                <div class="page-separator">
                    <div class="page-separator__text">Washing Machine</div>
                </div>
                <p class="card-subtitle text-70 mb-16pt mb-lg-0 border-left-3 border-left-primary pl-24pt pl-md-32pt">
                    Insert the priority of <code>Washing Machine's</code> loads in your daily
                    routine.</p>
            </div>
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">

                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label" for="preference_washing_machine">Importance
                            Scale</label>
                        <div class="col-sm-9">
                            <input id="preference_washing_machine" name="preference_washing_machine"
                                   type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group form-group-spacer row">
            <div class="col-sm-12">
                <input id="preference_range_washing_machine" name="preference_range_washing_machine"
                       type="text">
            </div>
        </div>

        <div class="row mt-32pt mb-32pt">
            <div class="col-lg-4">
                <div class="page-separator">
                    <div class="page-separator__text">Dish Washer</div>
                </div>
                <p class="card-subtitle text-70 mb-16pt mb-lg-0 border-left-3 border-left-primary pl-24pt pl-md-32pt">
                    Insert the priority of <code>Dish Washer's</code> load in your daily routine.
                </p>
            </div>
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">

                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label" for="preference_dish_washer">Importance
                            Scale</label>
                        <div class="col-sm-9">
                            <input id="preference_dish_washer" name="preference_dish_washer" type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group form-group-spacer row">
            <div class="col-sm-12">
                <input id="preference_range_dish_washer" name="preference_range_dish_washer" type="text">
            </div>
        </div>

        <div class="row mt-32pt mb-32pt">
            <div class="col-lg-4">
                <div class="page-separator">
                    <div class="page-separator__text">Tumble Drier</div>
                </div>
                <p class="card-subtitle text-70 mb-16pt mb-lg-0 border-left-3 border-left-primary pl-24pt pl-md-32pt">
                    Insert the priority of <code>Tumble Drier's</code> load in your daily routine.
                </p>
            </div>
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">

                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label" for="preference_tumble">Importance Scale</label>
                        <div class="col-sm-9">
                            <input id="preference_tumble" name="preference_tumble" type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group form-group-spacer row">
            <div class="col-sm-12">
                <input id="preference_range_drier" name="preference_range_drier" type="text">
            </div>
        </div>

        <div class="row mt-32pt mb-32pt">
            <div class="col-lg-4">
                <div class="page-separator">
                    <div class="page-separator__text">Water Heater</div>
                </div>
                <p class="card-subtitle text-70 mb-16pt mb-lg-0 border-left-3 border-left-primary pl-24pt pl-md-32pt">
                    Insert the priority of <code>Water Heater's</code> load in your daily routine.
                </p>
            </div>
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">

                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label" for="preference_water_heater">Importance
                            Scale</label>
                        <div class="col-sm-9">
                            <input id="preference_water_heater" name="preference_water_heater" type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group form-group-spacer row">
            <div class="col-sm-12">
                <input id="preference_range_water_heater" name="preference_range_water_heater" type="text">
            </div>
        </div>

        <div class="row mt-32pt mb-32pt">
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex" style="max-width: 100%">

                    <div class="button-list">
                        <input class="btn btn-outline-primary" id="submit-preferences" type="submit"
                               value="UPDATE PREFERENCES">
                    </div>

                </div>
            </div>
        </div>

</form>

<script>
$(document).ready(function() {

    var timeArray = ["00:00", "01:00", "02:00", "03:00", "04:00", "05:00", "06:00", "07:00", "08:00", "09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
    var importanceArray = ["Not Important", "Slightly Important", "Important", "Fairly Important", "Very Important"];

    $("#preference_thermal_comfort").ionRangeSlider({
      grid: !0,
      type: 'double',
      from: {{ preferences_importance[0] }},
      to: {{ preferences_importance[1] }},
      values: ["Cold", "Cool", "Slightly Cool", "Neutral", "Slightly Warm", "Warm", "Hot"],
    }),
    $("#preference_range_electric_vehicle").ionRangeSlider({
      grid: !0,
      type: 'double',
      from: {{ preferences_importance[6] }},
      to: {{ preferences_importance[7] }},
      values: timeArray,
    }),
    $("#preference_range_washing_machine").ionRangeSlider({
      grid: !0,
      type: 'double',
      from: {{ preferences_importance[10] }},
      to: {{ preferences_importance[11] }},
      values: timeArray,
    }),
    $("#preference_range_dish_washer").ionRangeSlider({
      grid: !0,
      type: 'double',
      from: {{ preferences_importance[12] }},
      to: {{ preferences_importance[13] }},
      values: timeArray,
    }),
    $("#preference_range_drier").ionRangeSlider({
      grid: !0,
      type: 'double',
      from: {{ preferences_importance[8] }},
      to: {{ preferences_importance[9] }},
      values: timeArray,
    }),
    $("#preference_dish_washer").ionRangeSlider({
      grid: !0,
      from: {{ preferences_importance[5] }},
      values: importanceArray,
    }),
    $("#preference_washing_machine").ionRangeSlider({
      grid: !0,
      from: {{ preferences_importance[4] }},
      values: importanceArray,
    }),
    $("#preference_tumble").ionRangeSlider({
      grid: !0,
      from: {{ preferences_importance[3] }},
      values: importanceArray,
    }),
    $("#preference_electric_vehicle").ionRangeSlider({
      grid: !0,
      from: {{ preferences_importance[2] }},
      values: importanceArray,
    }),
    $("#preference_indoor_temperature").ionRangeSlider({
      grid: !0,
      from: 0,
      to: 4,
      type: 'double',
      values: ["16 °C", "17 °C", "18 °C", "19 °C", "20 °C", "21 °C", "22 °C", "23 °C", "24 °C", "25 °C", "26 °C"],
    }),
    $("#preference_water_heater").ionRangeSlider({
      grid: !0,
      from: {{ preferences_importance[16] }},
      values: importanceArray,
    }),
    $("#preference_range_water_heater").ionRangeSlider({
      grid: !0,
    type: 'double',
      from: {{ preferences_importance[14] }},
      to: {{ preferences_importance[15] }},
      values: timeArray,
    })
  });

var relativePriorityOfLoads = {
    labels: ['Electric Vehicle', 'Washing Machine', 'Tumble Drier', 'Dish Washer', 'Water Heater'],
    datasets: [{
        label: 'Importance of Flexible Loads',
        type: "bar",
        backgroundColor: "#ffba4d",
        data: [{{ preferences_simos[0] }}, {{ preferences_simos[2] }}, {{ preferences_simos[1] }}, {{ preferences_simos[3] }}, {{ preferences_simos[4] }}]
    }]
};

var barGraph = new Chart($("#importance-flexible-loads"), {
    type: 'bar',
    data: relativePriorityOfLoads,
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    padding: 12,
                    fontFamily: "Josefin Sans",
                    beginAtZero: true,
                    maxTicksLimit: 6,
                    callback: function(value, index, values) {
                        return value + " %";
                    },
                }
            }],
            xAxes: [{
                gridLines: {
                    display: false
                },
                ticks: {
                    maxRotation: 0,
                    fontFamily: "Josefin Sans",
                }
            }],
        },
        legend: {
            display: false
        },
        tooltips: {
            enabled: false,
        }
    }
});



</script>

{% endblock content %}