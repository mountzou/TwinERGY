<!-- Extend the 'base-preferences.html' template for HTML page theming -->
{% extends "base-preferences.html" %}

<!-- Import macros from the 'macros.html' template -->
{% from 'macros.html' import create_component_section, create_page_separator %}

<!-- Add the title for the HTML page -->
{% block title %}Preferences{% endblock title %}

<!-- Import any external .css style files to the HTML page -->
{% block html_css %}
    <link href="{{url_for('static', filename='css/ion-rangeslider.css')}}" rel="stylesheet" type="text/css">{% endblock html_css %}
{% block content %}

    <!-- Add a section for the breadcrumb in the dashboard page -->
    <div class="page-section">
        {% with b1="Preferences", b2="" %}
            {% include "breadcrumb.html" %}
        {% endwith %}
    </div>

    <!-- Create a section for the mdk-box component that provided the description of the page content below -->
    {{ create_component_section('Thermal Comfort', 'Insert your preferences regarding the indoor thermal comfort tolerance.', '') }}


    <!-- Create a section for the thermal comfort preferences of the end-user -->
    <div class="container page__container page-section">
        <div class="row mb-32pt">
            <div class="col-lg-4">
                {{ create_page_separator('Thermal Comfort') }}
                <p class="card-subtitle text-70 mb-16pt mb-lg-0 border-left-3 border-left-primary pl-24pt pl-md-32pt">
                    Insert the range of your desired <code>THERMAL COMFORT</code> tolerance and <code>SET</code> limits.
                </p>
            </div>
            <div class="col-lg-8 d-flex align-items-center">
                <div class="flex">
                    <div class="form-group row">
                        <label class="col-sm-3 col-form-label" for="preference_thermal_comfort">Thermal Scale</label>
                        <div class="col-sm-9">
                            <input id="preference_thermal_comfort" name="preference_thermal_comfort" type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>
<!--        <div class="row">-->
<!--            <div class="col-lg-12">-->
<!--                <input id="preference_indoor_temperature" name="preference_indoor_temperature" type="text">-->
<!--            </div>-->
<!--        </div>-->
    </div>


    <!-- Create a section for the presentation of the SIMOS hierarchical ordering of each flexible load -->
    <section>
        <div class="container page__container page-section">
            <div class="row mb-32pt">
                <div class="col-lg-4 text-left">
                    <h1>Hierarchical</h1><br>
                    <h1>Ordering of</h1><br>
                    <h1>Flexible Loads</h1>
                </div>
                <div class="col-lg-8 d-flex align-items-center">
                    <div class="flex">
                        <div class="progress-container">
                            <script>
                                appliances = {{ appliances | tojson }};

                            </script>
                            {% for appliance in appliances %}
                            <div class="progress-item">
                                <div class="progress" style="height: 20px;">
                                    <div class="progress-bar bg-primary rounded" role="progressbar"
                                         style="width: 0%; opacity: 0.9;" aria-valuenow="0" aria-valuemin="0"
                                         aria-valuemax="100" id="weight-{{ appliance.id }}"></div>
                                </div>
                                <div class="card-subtitle border-left-primary pl-24pt mt-mb-8pt">
                                    {{ appliance.name }} weights <code id="weight-per-{{ appliance.id }}">- %</code> of the total relative importance.
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Create a section for the mdk-box component that provided the description of the page content below -->
    {{ create_component_section('Flexible Loads', 'Insert the priority
                            and the desired operation time window for each household appliance.', '') }}

    <section>
        <div class="container page__container page-section">
            {% for appliance in appliances %}
            <div class="row mt-mb-32pt">
                <div class="col-lg-4">
                    {{ create_page_separator(appliance.name) }}
                    <p class="card-subtitle text-70 mb-16pt mb-lg-0 border-left-3 border-left-primary pl-24pt pl-md-32pt">
                        Insert the priority of <code>{{ appliance.name }}'s</code> load in your daily routine.
                    </p>
                </div>
                <div class="col-lg-8 d-flex align-items-center">
                    <div class="flex">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label" for="preference_{{ appliance.id }}">Importance Scale</label>
                            <div class="col-sm-9">
                                <input id="preference_{{ appliance.id }}" name="preference_{{ appliance.id }}" type="text">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group form-group-spacer row">
                <div class="col-sm-12">
                    <input id="preference_range_{{ appliance.id }}" name="preference_range_{{ appliance.id }}" type="text">
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

{% endblock content %}